<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1200 800">
  <defs>
    <style>
      .title { font: bold 28px sans-serif; fill: #1a202c; }
      .subtitle { font: 16px sans-serif; fill: #4a5568; }
      .box-title { font: bold 18px sans-serif; fill: #fff; }
      .box-text { font: 14px sans-serif; fill: #2d3748; }
      .api-text { font: 13px monospace; fill: #2d3748; }
      .flow-text { font: bold 14px sans-serif; fill: #4a5568; }
      .layer-title { font: bold 16px sans-serif; fill: #4a5568; }
    </style>
    
    <!-- Arrow marker -->
    <marker id="arrowhead" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
      <polygon points="0 0, 10 3, 0 6" fill="#4a5568" />
    </marker>
    
    <!-- Gradient for boxes -->
    <linearGradient id="blueGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#667eea;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#764ba2;stop-opacity:1" />
    </linearGradient>
    
    <linearGradient id="greenGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#48bb78;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#38a169;stop-opacity:1" />
    </linearGradient>
    
    <linearGradient id="orangeGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#ed8936;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#dd6b20;stop-opacity:1" />
    </linearGradient>
  </defs>
  
  <!-- Title -->
  <text x="600" y="40" text-anchor="middle" class="title">Document Manager - System Architecture</text>
  <text x="600" y="65" text-anchor="middle" class="subtitle">Full-Stack Document Management System</text>
  
  <!-- Frontend Section -->
  <rect x="50" y="120" width="350" height="280" rx="10" fill="url(#blueGrad)" opacity="0.9"/>
  <text x="225" y="155" text-anchor="middle" class="box-title">Frontend (React + Vite)</text>
  
  <!-- Frontend Components -->
  <rect x="70" y="170" width="310" height="60" rx="5" fill="#fff" stroke="#667eea" stroke-width="2"/>
  <text x="80" y="195" class="box-text" font-weight="bold">Upload Section</text>
  <text x="80" y="215" class="box-text">‚Ä¢ Multiple file upload</text>
  <text x="80" y="230" class="box-text">‚Ä¢ Drag & drop interface</text>
  
  <rect x="70" y="240" width="310" height="60" rx="5" fill="#fff" stroke="#667eea" stroke-width="2"/>
  <text x="80" y="265" class="box-text" font-weight="bold">Search & Filter</text>
  <text x="80" y="285" class="box-text">‚Ä¢ Text search by title</text>
  <text x="80" y="300" class="box-text">‚Ä¢ Sort by date</text>
  
  <rect x="70" y="310" width="310" height="75" rx="5" fill="#fff" stroke="#667eea" stroke-width="2"/>
  <text x="80" y="335" class="box-text" font-weight="bold">Document List</text>
  <text x="80" y="355" class="box-text">‚Ä¢ Paginated view</text>
  <text x="80" y="370" class="box-text">‚Ä¢ Download action</text>
  <text x="80" y="385" class="box-text">‚Ä¢ File metadata display</text>
  
  <!-- Backend Section -->
  <rect x="500" y="120" width="350" height="400" rx="10" fill="url(#greenGrad)" opacity="0.9"/>
  <text x="675" y="155" text-anchor="middle" class="box-title">Backend (Node.js + Express)</text>
  
  <!-- API Endpoints -->
  <rect x="520" y="170" width="310" height="80" rx="5" fill="#fff" stroke="#48bb78" stroke-width="2"/>
  <text x="530" y="195" class="api-text" font-weight="bold">POST /api/documents</text>
  <text x="530" y="215" class="box-text">‚Ä¢ Accepts multipart/form-data</text>
  <text x="530" y="230" class="box-text">‚Ä¢ Handles multiple files</text>
  <text x="530" y="245" class="box-text">‚Ä¢ Saves to disk + metadata</text>
  
  <rect x="520" y="260" width="310" height="95" rx="5" fill="#fff" stroke="#48bb78" stroke-width="2"/>
  <text x="530" y="285" class="api-text" font-weight="bold">GET /api/documents</text>
  <text x="530" y="305" class="box-text">‚Ä¢ Query: page, pageSize, q, sortOrder</text>
  <text x="530" y="320" class="box-text">‚Ä¢ Search by title</text>
  <text x="530" y="335" class="box-text">‚Ä¢ Sort & paginate results</text>
  <text x="530" y="350" class="box-text">‚Ä¢ Returns metadata array</text>
  
  <rect x="520" y="365" width="310" height="80" rx="5" fill="#fff" stroke="#48bb78" stroke-width="2"/>
  <text x="530" y="390" class="api-text" font-weight="bold">GET /api/documents/:id/download</text>
  <text x="530" y="410" class="box-text">‚Ä¢ Streaming file response</text>
  <text x="530" y="425" class="box-text">‚Ä¢ No memory buffering</text>
  <text x="530" y="440" class="box-text">‚Ä¢ Proper Content-Disposition</text>
  
  <rect x="520" y="455" width="310" height="50" rx="5" fill="#fff" stroke="#48bb78" stroke-width="2"/>
  <text x="530" y="480" class="box-text" font-weight="bold">Middleware:</text>
  <text x="530" y="495" class="box-text">Multer, CORS, Express.json()</text>
  
  <!-- Storage Section -->
  <rect x="925" y="120" width="250" height="280" rx="10" fill="url(#orangeGrad)" opacity="0.9"/>
  <text x="1050" y="155" text-anchor="middle" class="box-title">Storage Layer</text>
  
  <rect x="945" y="170" width="210" height="100" rx="5" fill="#fff" stroke="#ed8936" stroke-width="2"/>
  <text x="955" y="195" class="box-text" font-weight="bold">File Storage</text>
  <text x="955" y="220" class="box-text">üìÅ /uploads/</text>
  <text x="955" y="240" class="box-text">‚Ä¢ Local disk storage</text>
  <text x="955" y="255" class="box-text">‚Ä¢ UUID filenames</text>
  
  <rect x="945" y="280" width="210" height="105" rx="5" fill="#fff" stroke="#ed8936" stroke-width="2"/>
  <text x="955" y="305" class="box-text" font-weight="bold">Metadata Storage</text>
  <text x="955" y="325" class="box-text">üìÑ metadata.json</text>
  <text x="955" y="345" class="box-text">‚Ä¢ Document ID</text>
  <text x="955" y="360" class="box-text">‚Ä¢ Title, size, type</text>
  <text x="955" y="375" class="box-text">‚Ä¢ Upload timestamp</text>
  
  <!-- Flow Arrows -->
  <!-- Frontend to Backend -->
  <line x1="400" y1="210" x2="500" y2="210" stroke="#4a5568" stroke-width="3" marker-end="url(#arrowhead)"/>
  <text x="430" y="200" class="flow-text">Upload</text>
  
  <line x1="400" y1="305" x2="500" y2="305" stroke="#4a5568" stroke-width="3" marker-end="url(#arrowhead)"/>
  <text x="430" y="295" class="flow-text">List/Search</text>
  
  <line x1="400" y1="350" x2="500" y2="405" stroke="#4a5568" stroke-width="3" marker-end="url(#arrowhead)"/>
  <text x="420" y="385" class="flow-text">Download</text>
  
  <!-- Backend to Storage -->
  <line x1="850" y1="225" x2="925" y2="225" stroke="#4a5568" stroke-width="3" marker-end="url(#arrowhead)"/>
  <text x="860" y="215" class="flow-text">Save Files</text>
  
  <line x1="850" y1="340" x2="925" y2="340" stroke="#4a5568" stroke-width="3" marker-end="url(#arrowhead)"/>
  <text x="860" y="330" class="flow-text">Query</text>
  
  <line x1="925" y1="360" x2="850" y2="420" stroke="#4a5568" stroke-width="3" marker-end="url(#arrowhead)"/>
  <text x="860" y="390" class="flow-text">Stream</text>
  
  <!-- Upload Flow -->
  <rect x="50" y="550" width="550" height="220" rx="10" fill="#f7fafc" stroke="#cbd5e0" stroke-width="2"/>
  <text x="325" y="580" text-anchor="middle" class="layer-title">üì§ Upload Flow</text>
  
  <rect x="70" y="595" width="120" height="60" rx="5" fill="#667eea" opacity="0.8"/>
  <text x="130" y="620" text-anchor="middle" class="box-text" fill="#fff" font-weight="bold">1. User</text>
  <text x="130" y="640" text-anchor="middle" class="box-text" fill="#fff">Selects files</text>
  
  <rect x="210" y="595" width="120" height="60" rx="5" fill="#667eea" opacity="0.8"/>
  <text x="270" y="615" text-anchor="middle" class="box-text" fill="#fff" font-weight="bold">2. Frontend</text>
  <text x="270" y="630" text-anchor="middle" class="box-text" fill="#fff">Creates</text>
  <text x="270" y="645" text-anchor="middle" class="box-text" fill="#fff">FormData</text>
  
  <rect x="350" y="595" width="120" height="60" rx="5" fill="#48bb78" opacity="0.8"/>
  <text x="410" y="615" text-anchor="middle" class="box-text" fill="#fff" font-weight="bold">3. Backend</text>
  <text x="410" y="630" text-anchor="middle" class="box-text" fill="#fff">Multer saves</text>
  <text x="410" y="645" text-anchor="middle" class="box-text" fill="#fff">to disk</text>
  
  <rect x="490" y="595" width="120" height="60" rx="5" fill="#ed8936" opacity="0.8"/>
  <text x="550" y="615" text-anchor="middle" class="box-text" fill="#fff" font-weight="bold">4. Storage</text>
  <text x="550" y="630" text-anchor="middle" class="box-text" fill="#fff">File + metadata</text>
  <text x="550" y="645" text-anchor="middle" class="box-text" fill="#fff">persisted</text>
  
  <!-- Upload flow arrows -->
  <line x1="190" y1="625" x2="210" y2="625" stroke="#4a5568" stroke-width="2" marker-end="url(#arrowhead)"/>
  <line x1="330" y1="625" x2="350" y2="625" stroke="#4a5568" stroke-width="2" marker-end="url(#arrowhead)"/>
  <line x1="470" y1="625" x2="490" y2="625" stroke="#4a5568" stroke-width="2" marker-end="url(#arrowhead)"/>
  
  <text x="70" y="685" class="box-text">‚Ä¢ Multiple files in one request</text>
  <text x="70" y="705" class="box-text">‚Ä¢ UUID generated for each file</text>
  <text x="70" y="725" class="box-text">‚Ä¢ Atomic operation - all succeed or fail</text>
  <text x="70" y="745" class="box-text">‚Ä¢ Returns document IDs and metadata</text>
  
  <!-- Download Flow -->
  <rect x="625" y="550" width="550" height="220" rx="10" fill="#f7fafc" stroke="#cbd5e0" stroke-width="2"/>
  <text x="900" y="580" text-anchor="middle" class="layer-title">üì• Download Flow</text>
  
  <rect x="645" y="595" width="120" height="60" rx="5" fill="#667eea" opacity="0.8"/>
  <text x="705" y="620" text-anchor="middle" class="box-text" fill="#fff" font-weight="bold">1. User</text>
  <text x="705" y="640" text-anchor="middle" class="box-text" fill="#fff">Clicks download</text>
  
  <rect x="785" y="595" width="120" height="60" rx="5" fill="#667eea" opacity="0.8"/>
  <text x="845" y="615" text-anchor="middle" class="box-text" fill="#fff" font-weight="bold">2. Frontend</text>
  <text x="845" y="630" text-anchor="middle" class="box-text" fill="#fff">GET request</text>
  <text x="845" y="645" text-anchor="middle" class="box-text" fill="#fff">with doc ID</text>
  
  <rect x="925" y="595" width="120" height="60" rx="5" fill="#48bb78" opacity="0.8"/>
  <text x="985" y="615" text-anchor="middle" class="box-text" fill="#fff" font-weight="bold">3. Backend</text>
  <text x="985" y="630" text-anchor="middle" class="box-text" fill="#fff">Streams file</text>
  <text x="985" y="645" text-anchor="middle" class="box-text" fill="#fff">from disk</text>
  
  <rect x="1065" y="595" width="120" height="60" rx="5" fill="#667eea" opacity="0.8"/>
  <text x="1125" y="615" text-anchor="middle" class="box-text" fill="#fff" font-weight="bold">4. Browser</text>
  <text x="1125" y="630" text-anchor="middle" class="box-text" fill="#fff">Saves file</text>
  <text x="1125" y="645" text-anchor="middle" class="box-text" fill="#fff">locally</text>
  
  <!-- Download flow arrows -->
  <line x1="765" y1="625" x2="785" y2="625" stroke="#4a5568" stroke-width="2" marker-end="url(#arrowhead)"/>
  <line x1="905" y1="625" x2="925" y2="625" stroke="#4a5568" stroke-width="2" marker-end="url(#arrowhead)"/>
  <line x1="1045" y1="625" x2="1065" y2="625" stroke="#4a5568" stroke-width="2" marker-end="url(#arrowhead)"/>
  
  <text x="645" y="685" class="box-text">‚Ä¢ Streaming prevents memory overflow</text>
  <text x="645" y="705" class="box-text">‚Ä¢ Content-Disposition header sets filename</text>
  <text x="645" y="725" class="box-text">‚Ä¢ No buffering - constant memory usage</text>
  <text x="645" y="745" class="box-text">‚Ä¢ Supports large files efficiently</text>
  
</svg>
